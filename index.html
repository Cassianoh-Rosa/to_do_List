<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>To-Do list</title>
</head>
<style>
    *{
        padding: 0;
        margin: 0;
        box-sizing: border-box;
        font-family: Arial, Helvetica, sans-serif;
    }
    body{
        background-color: rgba(244, 242, 242, 0.807);
    }
    header{
        padding: 20px;
        display: flex;
        flex-direction: column;
        justify-content: center;
        gap: 15px;
        align-items: center;
        height: 130px;
        background-image: url('imgs/header-background.jpg');
        background-size: cover;
        background-position: center center;
    }
    main{
        display: grid;
        grid-template-columns: auto 90% auto;
        gap: 19px;
        padding: 15px;
    }
    section{
        grid-column: 2/3;
        padding: 20px;
        background-color: white;
        box-shadow: 3px 5px 8px rgba(0, 0, 0, 0.282);
        border-radius: 8px;
    }
    section#adicionar{
        display: flex;
        flex-direction: column;
        gap: 15px;
    }
    div#tarefa{
        display: flex;
        gap: 30px;
        justify-content: space-between;
    }
    div#tarefa input[type="text"]{
        width: 76%;
        border-radius: 7px;
        border: 1px solid rgba(0, 0, 0, 0.475);
        padding: 5px;
    }
    input[type="button"]{
        padding-top: 10px;
        padding-bottom: 10px;
        width: 90px;
        border-radius: 4px;
        border:none;
        background-color: rgb(0, 191, 143);
        color: white;
        text-shadow: 1px 1px 1px black;
        font-weight: 600;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        transition-duration: 0.3s;   
        box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.242); 
    }
    div#filtrar{
        display: flex;
        justify-content: space-between;
    }
    section#lista{
        display: flex;
        flex-direction: column;
        gap: 20px;
    }
    section#resultado{
        text-align: center;
    }
    section#lista > div{
        padding: 10px;
        background-color: lightgray;
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-radius: 8px;
        box-shadow: 2px 2px 3px rgba(0, 0, 0, 0.352);
        border-left: 0px solid rgb(59, 124, 102);
        transition: border-left 0.5s;
    }
    section#lista > div > button{
        padding: 5px;
        background-color: rgba(81, 201, 83, 0.431);
        color:white;
        border: none;
        text-shadow: 1px 1px 1px black;
        font-size: 18px;
        border-radius: 6px;
    }
    @media screen and (min-width:800px){
       section{
        width: 740px;
       }
       section#lista > div:hover{
        border-left: 15px solid rgb(9, 230, 12);
     }
     input[type="button"]:hover{
        background-color: rgb(59, 124, 102);
        cursor: pointer;
    }
       main{
        justify-items: center;
       }
    section#lista > div > button{
        cursor: pointer;
    }
    }
    @media screen and (min-width:1200px){
        section{
            width: 900px;
        }
        main{
        justify-items: center;
       }
       input[type="button"]:hover{
        background-color: rgb(59, 124, 102);
        cursor: pointer;
    }
    section#lista > div:hover{
        border-left: 15px solid rgb(9, 230, 12);
     }
     section#lista > div > button{
        cursor: pointer;
    }
    }
</style>
<body>
    <header>
        <h1>Lista de tarefas</h1>
        <p>O melhor site para se organizar</p>
    </header>
    <main>
        <section id="adicionar">
            <div id="tarefa">
                <input type="text" name="tarefa" id="itarefa" placeholder="Nova tarefa...">
                <input type="button" value="ADICIONAR" id="integrar">
            </div>
            <div id="filtrar">
                <input type="button" value="TODAS" id="todos">
                <input type="button" value="PENDENTES" id="pendentes">
                <input type="button" value="CONCLUÍDAS" id="concluidos">
            </div>
        </section>
        <section id="lista">

        </section>
        <section id="resultado">
            <p>Concluídas:</p>
            <span id="concluidas">0</span>
            <span>/</span>
            <span id="total">0</span>
        </section>
    </main>
    <script>
        let input = document.getElementById('itarefa')
        const adicionarBtn = document.getElementById('integrar')
        const todasBtn = document.getElementById('todos')
        const pendentesBtn = document.getElementById('pendentes')
        const concluidasBtn = document.getElementById('concluidos')
        const tarefas = []
        let lista = document.querySelector('section#lista')
        let conc = document.querySelector('span#concluidas')
        let tot = document.querySelector('span#total')

        adicionarBtn.addEventListener('click', () =>{
            if(input.value.trim() === ''){
                return 
            }
            const tarefa = {
                id: Date.now(),
                texto:input.value.trim(),
                concluida: false
            }
            tarefas.push(tarefa)
            input.value = ''
            input.focus()

            atualizarTarefas()
            ConcTot()
        })
        function atualizarTarefas(){
            ConcTot()
            lista.innerHTML = ''
            tarefas.forEach((tarefa) =>{
                const div = document.createElement('div')
                const p = document.createElement('p')
                const button = document.createElement('button')

                p.textContent = tarefa.texto
                button.textContent = '✅'
                button.addEventListener('click', ()=>{
                    tarefa.concluida = !tarefa.concluida
                    atualizarTarefas()
                    ConcTot()
                })
                 if(tarefa.concluida == true){
                        p.style.textDecoration = 'line-through'
                    }
                div.appendChild(p)
                div.appendChild(button)
                lista.appendChild(div)
            })
        }
        todasBtn.addEventListener('click',() =>{
            lista.innerHTML = ''
            atualizarTarefas()
            ConcTot()
        })
        pendentesBtn.addEventListener('click', function naofeitas(){
            lista.innerHTML = ''
            ConcTot()
            const pendentes = tarefas.filter((tarefa) =>{
                if(tarefa.concluida === false)
                return true
            })
            pendentes.forEach((tarefa)=>{
                const div = document.createElement('div')
                const p = document.createElement('p')
                const button = document.createElement('button')
                p.textContent = tarefa.texto
                button.textContent = '✅'
                button.addEventListener('click', ()=>{
                    tarefa.concluida = !tarefa.concluida
                    if(tarefa.concluida === true){
                        p.style.textDecoration = 'line-through'
                    } 
                    naofeitas()
                    ConcTot()
                })
                div.appendChild(p)
                div.appendChild(button)
                lista.appendChild(div)

            })
        })
        concluidasBtn.addEventListener('click', function finalizadas(){
            lista.innerHTML = ''
            ConcTot()
            const prontas = tarefas.filter((tarefa) =>{
                if(tarefa.concluida) return true
            })
            prontas.forEach((tarefa)=>{
                const div = document.createElement('div')
                const p = document.createElement('p')
                const button = document.createElement('button')
                p.textContent = tarefa.texto
                if(tarefa.concluida){
                        p.style.textDecoration = 'line-through'
                    } 
                button.textContent = '✅'
                button.addEventListener('click', ()=>{
                    tarefa.concluida = !tarefa.concluida
                    if(tarefa.concluida){
                        p.style.textDecoration = 'line-through'
                    } 
                    finalizadas()
                    ConcTot()
                })
                div.appendChild(p)
                div.appendChild(button)
                lista.appendChild(div)
            })
        })
        function ConcTot(){
    const totalConcluidas = tarefas.reduce((acumulador, tarefa) => {
        if(tarefa.concluida){
            return acumulador + 1
        }
        return acumulador
    }, 0)

    conc.innerHTML = totalConcluidas
    tot.innerHTML = tarefas.length
}

    </script>
</body>
</html>